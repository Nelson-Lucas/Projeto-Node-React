{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\Projetos\\\\ProjetoNT\\\\ProjetoVotacaoNT\\\\Frontend\\\\src\\\\Pages\\\\home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../Services/api';\nimport PollItem from '../Components/pollItem';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [cpf, setCpf] = useState('');\n  const [eligible, setEligible] = useState(null);\n  const [polls, setPolls] = useState([]);\n  const [votes, setVotes] = useState([]);\n  const formatCPF = value => {\n    let cpf = value.replace(/\\D/g, '').slice(0, 11);\n    return cpf.replace(/(\\d{3})(\\d)/, '$1.$2').replace(/(\\d{3})(\\d)/, '$1.$2').replace(/(\\d{3})(\\d{1,2})$/, '$1-$2');\n  };\n  const validateCPF = async value => {\n    const formattedCPF = formatCPF(value);\n    setCpf(formattedCPF);\n    try {\n      const response = await api.get(`/users/validate/${value.replace(/\\D/g, '')}`);\n      setEligible(response.data.message.includes('eligible'));\n    } catch {\n      setEligible(false);\n    }\n  };\n  useEffect(() => {\n    api.get('/polls') // üî• Corrected API call to match backend setup\n    .then(response => setPolls(response.data.slice(0, 10))).catch(error => console.error(\"‚ùå Error fetching polls:\", error));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Online Voting\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter your CPF\",\n      value: cpf,\n      onChange: e => validateCPF(e.target.value),\n      maxLength: 14\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), eligible !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `validation-message ${eligible ? 'eligible' : 'not-eligible'}`,\n      children: eligible ? \"‚úÖ Eligible to vote!\" : \"‚ùå Not eligible to vote\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }, this), eligible && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Available Polls:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"poll-container\",\n        children: polls.map(poll => /*#__PURE__*/_jsxDEV(PollItem, {\n          poll: poll,\n          setVotes: setVotes\n        }, poll.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Registered Votes:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), votes.map((vote, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"poll-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: vote.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), \" \\u2192 \", vote.option === 'yes' ? '‚úÖ Yes' : '‚ùå No']\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"+yJAiKjKsv0o1TRr04y7lKfnM5w=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","api","PollItem","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","cpf","setCpf","eligible","setEligible","polls","setPolls","votes","setVotes","formatCPF","value","replace","slice","validateCPF","formattedCPF","response","get","data","message","includes","then","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","maxLength","className","map","poll","id","vote","index","title","option","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Documents/Projetos/ProjetoNT/ProjetoVotacaoNT/Frontend/src/Pages/home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../Services/api';\r\nimport PollItem from '../Components/pollItem';\r\n\r\nconst Home = () => {\r\n  const [cpf, setCpf] = useState('');\r\n  const [eligible, setEligible] = useState(null);\r\n  const [polls, setPolls] = useState([]);\r\n  const [votes, setVotes] = useState([]);\r\n\r\n  const formatCPF = (value) => {\r\n    let cpf = value.replace(/\\D/g, '').slice(0, 11);\r\n    return cpf\r\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n      .replace(/(\\d{3})(\\d{1,2})$/, '$1-$2');\r\n  };\r\n\r\n  const validateCPF = async (value) => {\r\n    const formattedCPF = formatCPF(value);\r\n    setCpf(formattedCPF);\r\n\r\n    try {\r\n      const response = await api.get(`/users/validate/${value.replace(/\\D/g, '')}`);\r\n      setEligible(response.data.message.includes('eligible'));\r\n    } catch {\r\n      setEligible(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    api.get('/polls') // üî• Corrected API call to match backend setup\r\n      .then(response => setPolls(response.data.slice(0, 10))) \r\n      .catch(error => console.error(\"‚ùå Error fetching polls:\", error));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n        <h1>Online Voting</h1>\r\n\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Enter your CPF\" \r\n          value={cpf} \r\n          onChange={(e) => validateCPF(e.target.value)}\r\n          maxLength={14}\r\n        />\r\n\r\n        {eligible !== null && (\r\n          <div className={`validation-message ${eligible ? 'eligible' : 'not-eligible'}`}>\r\n            {eligible ? \"‚úÖ Eligible to vote!\" : \"‚ùå Not eligible to vote\"}\r\n          </div>\r\n        )}\r\n\r\n        {eligible && (\r\n          <>\r\n            <h2>Available Polls:</h2>\r\n            <div className=\"poll-container\">\r\n              {polls.map(poll => (\r\n                <PollItem key={poll.id} poll={poll} setVotes={setVotes} />\r\n              ))}\r\n            </div>\r\n\r\n            <h2>Registered Votes:</h2>\r\n            {votes.map((vote, index) => (\r\n              <div key={index} className=\"poll-item\">\r\n                <strong>{vote.title}</strong> ‚Üí {vote.option === 'yes' ? '‚úÖ Yes' : '‚ùå No'}\r\n              </div>\r\n            ))}\r\n          </>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}